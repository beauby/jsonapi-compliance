#!/usr/bin/env ruby

require 'jsonapi/grader'

grader =
  case ARGV[0]
  when 'serialization'
    JSONAPI::Grader::SerializationGrader.new('scenarii_serialization.json',
                                             implementation_dir: ARGV[1])
  when 'server'
    JSONAPI::Grader::ServerGrader.new(host: ARGV[1])
  else
    raise 'Unknown arguments'
  end

grader.grade
